@model IEnumerable<MvcPL.Models.Entities.CommentViewModel>

@{
    Layout = null;
}

<h3>Comments</h3>
@using (Ajax.BeginForm("AddComment", new AjaxOptions
{
    UpdateTargetId = "comments",
    InsertionMode = InsertionMode.InsertBefore
}))
{
    <div class="form-group">
        @Html.TextArea("Content", new { rows = 5, @class = "area-fullwidth" })
    </div>
    @Html.Hidden("ArticleId", (int)ViewBag.ArticleId)
    <button type="submit" class="btn btn-success">Add comment</button>
    <br><br>
}
<div id="comments" class="row">
    @foreach (var comment in Model)
    {
        Html.RenderPartial("_CommentPartial", comment);
    }
</div>
<div>
    @Html.ActionLink("More comments", "Details", "Articles", new
    {
        id = ViewBag.ArticleId,
        commentPackNumber = (int)ViewBag.CommentPackNumber + 1,
    }, new {@class="btn btn-warning"})
</div>